<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="600" prefWidth="960" style="-fx-background-color: #f0f4f8;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.fita.vetclinic.controllers.MedicalHistoryController">

	<center>
		<ScrollPane fitToHeight="true" fitToWidth="true" hbarPolicy="NEVER" style="-fx-background-color: transparent;" vbarPolicy="AS_NEEDED">
			<VBox spacing="30" style="-fx-padding: 40 20;">

				<!-- Nút Quay về -->
				<Button fx:id="btnBack" onAction="#handleBackAction" style="-fx-font-size: 14px; -fx-background-color: #e2e8f0; -fx-text-fill: #1f2937; -fx-background-radius: 8;" text="🔙 Quay về" />

				<!-- Tiêu đề -->
				<Label fx:id="lblTitle" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #1f2937;" text="📋 Lịch sử khám bệnh" />

				<!-- Card: Lịch sử khám -->
				<VBox maxWidth="880" spacing="10" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.08), 10, 0, 0, 4);">

					<Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #334e68;" text="📄 Chi tiết lịch sử khám" />

					<TableView fx:id="tblMedicalRecords" maxWidth="840" prefHeight="260.0" prefWidth="840.0">
						<columnResizePolicy>
							<TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
						</columnResizePolicy>
						<columns>
							<TableColumn fx:id="colRecordDate" text="Ngày khám" />
							<TableColumn fx:id="colPetName" text="Thú cưng" />
							<TableColumn fx:id="colDoctorName" text="Bác sĩ" />
							<TableColumn fx:id="colDiagnosis" text="Chẩn đoán" />
							<TableColumn fx:id="colTreatment" text="Điều trị" />
							<TableColumn fx:id="colNotes" text="Ghi chú" />
						</columns>
					</TableView>
				</VBox>

				<!-- Card: Vaccine -->
				<VBox maxWidth="880" spacing="10" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.08), 10, 0, 0, 4);">

					<Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #334e68;" text="💉 Vaccine đã tiêm" />

					<TableView fx:id="tblVaccinations" maxWidth="840" prefHeight="220">
						<columnResizePolicy>
							<TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
						</columnResizePolicy>
						<columns>
							<TableColumn fx:id="colVaccineName" text="Tên vaccine" />
							<TableColumn fx:id="colVaccinationDate" text="Ngày tiêm" />
							<TableColumn fx:id="colBatchNumber" text="Số lô" />
							<TableColumn fx:id="colNextDueDate" text="Ngày hẹn tiêm" />
						</columns>
					</TableView>
				</VBox>

			</VBox>
		</ScrollPane>
	</center>
</BorderPane>
